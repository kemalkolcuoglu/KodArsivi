@model QRWebCMS.Web.Areas.Yonetici.Models.EkModel.SayfaListeMV
@{
    ViewBag.Title = "Sayfa İçerik";
    Layout = "~/Areas/Yonetici/Views/Shared/_Layout.cshtml";

    //var icerik = TempData["Icerik"] as MultiSelectList;
    //var galeri = TempData["Galeri"] as MultiSelectList;
    //var slide = TempData["Slide"] as MultiSelectList;
    //var urun = TempData["Urun"] as MultiSelectList;


    var sayfaListe = TempData["SayfaListe"] as List<QRWebCMS.Web.Models.SayfaListe>;
    var icerik = TempData["Icerik"] as List<QRWebCMS.Web.Models.Icerik>;
    var galeri = TempData["Galeri"] as List<QRWebCMS.Web.Models.GaleriKategori>;
    var slide = TempData["Slide"] as List<QRWebCMS.Web.Models.SlideKategori>;
    var urun = TempData["Urun"] as List<QRWebCMS.Web.Models.UrunKategori>;
    int sayfaID = Convert.ToInt32(TempData["SayfaID"]);

    var etkinIcerik = TempData["EtkinIcerik"] as List<QRWebCMS.Web.Models.Icerik>;
    var etkingaleri = TempData["EtkinGaleri"] as List<QRWebCMS.Web.Models.GaleriKategori>;
    var etkinslide = TempData["EtkinSlide"] as List<QRWebCMS.Web.Models.SlideKategori>;
    var etkinurun = TempData["EtkinUrun"] as List<QRWebCMS.Web.Models.UrunKategori>;
}

<div class="page-header">
    <div class="page-block">
        <div class="row align-items-center">
            <div class="col-md-12">
                <div class="page-header-title">
                    <h4 class="m-b-10">Sayfalar</h4>
                </div>
                <ul class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="~/Yonetici/Panel/Anasayfa">
                            <i class="feather icon-home"></i>
                        </a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="#">Bileşenler</a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="~/Yonetici/Bilesenler/Sayfa">Sayfa</a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="#">Sayfa İçerik</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

@using (Html.BeginForm("SayfaIcerik", "Bilesenler", FormMethod.Post))
{
    @Html.AntiForgeryToken()
    <div class="card">
        <div class="card-header">
            <h5>Sayfa İçeriği</h5>
            <a href="~/Yonetici/Bilesenler/SayfaIcerikTemizle/@sayfaID" class="btn btn-danger">İçerik Temizle</a>
        </div>
        <div class="card-block table-border-style">
            <div class="row">
                <div class="col-sm-12 col-xl-6 m-b-30">
                    <h4 class="sub-title">İçerik Listesi</h4>
                    <select id='custom-headers' class="searchable" multiple='multiple' name="IcerikListesi">
                        @foreach (var item in icerik)
                        {
                            if (etkinIcerik.Any(x => x.IcerikID == item.IcerikID))
                            {
                                <option value='@item.IcerikID' selected>@item.Baslik</option>
                            }
                            else
                            {
                                <option value='@item.IcerikID'>@item.Baslik</option>
                            }
                        }
                    </select>
                </div>
                <div class="col-sm-12 col-xl-6 m-b-30">
                    <h4 class="sub-title">Galeri Listesi</h4>
                    <select id='custom-headers' class="searchable" multiple='multiple' name="GaleriListesi">
                        @foreach (var item in galeri)
                        {
                            if (etkingaleri.Any(x => x.GaleriKategoriID == item.GaleriKategoriID))
                            {
                                <option value='@item.GaleriKategoriID' selected>@item.Baslik</option>
                            }
                            else
                            {
                                <option value='@item.GaleriKategoriID'>@item.Baslik</option>
                            }
                        }
                    </select>
                </div>
                <div class="col-sm-12 col-xl-6 m-b-30">
                    <h4 class="sub-title">Slide Listesi</h4>
                    <select id='custom-headers' class="searchable" multiple='multiple' name="SlideListesi">
                        @foreach (var item in slide)
                        {
                            if (etkinslide.Any(x => x.SlideKategoriID == item.SlideKategoriID))
                            {
                                <option value='@item.SlideKategoriID' selected>@item.Baslik</option>
                            }
                            else
                            {
                                <option value='@item.SlideKategoriID'>@item.Baslik</option>
                            }
                        }
                    </select>
                </div>
                <div class="col-sm-12 col-xl-6 m-b-30">
                    <h4 class="sub-title">Ürün Listesi</h4>
                    <select id='custom-headers' class="searchable" multiple='multiple' name="UrunListesi">
                        @foreach (var item in urun)
                        {
                            if (etkinurun.Any(x => x.UrunKategoriID == item.UrunKategoriID))
                            {
                                <option value='@item.UrunKategoriID' selected>@item.Baslik</option>
                            }
                            else
                            {
                                <option value='@item.UrunKategoriID'>@item.Baslik</option>
                            }
                        }
                    </select>
                </div>
            </div>
            <div class="col-md-12">
                <input type="submit" value="Onayla" class="btn btn-success btn-block" />
            </div>
        </div>
    </div>
}

@section Content
{
    <link rel="stylesheet" type="text/css" href="~/Areas/Yonetici/Assets/bower_components/select2/css/select2.min.css" />
    <link rel="stylesheet" type="text/css" href="~/Areas/Yonetici/Assets/bower_components/bootstrap-multiselect/css/bootstrap-multiselect.css" />
    <link rel="stylesheet" type="text/css" href="~/Areas/Yonetici/Assets/bower_components/multiselect/css/multi-select.css" />
}

@section Scripts
{
    <script type="text/javascript" src="~/Areas/Yonetici/Assets/bower_components/select2/js/select2.full.min.js"></script>
    <script type="text/javascript" src="~/Areas/Yonetici/Assets/bower_components/bootstrap-multiselect/js/bootstrap-multiselect.js"></script>
    <script type="text/javascript" src="~/Areas/Yonetici/Assets/bower_components/multiselect/js/jquery.multi-select.js"></script>
    <script type="text/javascript" src="~/Areas/Yonetici/Assets/js/jquery.quicksearch.js"></script>
    <script type="text/javascript" src="~/Areas/Yonetici/Assets/pages/advance-elements/select2-custom.js"></script>
}